# 배포 전 체크리스트

이 문서는 Vercel에 배포하기 전에 확인해야 할 모든 항목을 체크리스트로 제공합니다.

## 📋 사전 준비 체크리스트

### 코드 준비
- [ ] 모든 코드가 Git에 커밋되어 있음
- [ ] GitHub 저장소에 푸시 완료
- [ ] 로컬에서 `pnpm build` 성공 확인
- [ ] 로컬에서 `pnpm lint` 에러 없음
- [ ] TypeScript 타입 에러 없음

### 문서 준비
- [ ] README.md 업데이트 완료
- [ ] 배포 가이드 문서화 완료
- [ ] 환경 변수 문서화 완료

## 🗄️ 데이터베이스 준비

### Supabase 설정
- [ ] Supabase 프로젝트 생성 완료
- [ ] 마이그레이션 파일 실행 완료
  - [ ] `20250101000001_create_ecommerce_schema.sql` 실행
  - [ ] `20250102000000_add_stock_column.sql` 실행
- [ ] 테이블 생성 확인
  - [ ] `categories` 테이블
  - [ ] `products` 테이블
  - [ ] `cart_items` 테이블
  - [ ] `orders` 테이블
  - [ ] `order_items` 테이블
- [ ] 샘플 데이터 추가 (선택사항)
  - [ ] 카테고리 데이터 추가
  - [ ] 상품 데이터 추가
- [ ] Storage 버킷 생성 확인 (선택사항)
  - [ ] `study` 버킷 생성
  - [ ] RLS 정책 설정 (개발 환경에서는 비활성화)

## 🔑 인증 서비스 준비

### Clerk 설정
- [ ] Clerk 프로젝트 생성 완료
- [ ] Clerk Publishable Key 발급 완료
- [ ] Clerk Secret Key 발급 완료
- [ ] 로그인/회원가입 페이지 URL 설정 확인
- [ ] 리다이렉트 URL 설정 확인
- [ ] 웹훅 설정 (선택사항)
  - [ ] 웹훅 엔드포인트 URL 설정
  - [ ] 웹훅 이벤트 선택

## 💳 결제 서비스 준비

### Toss Payments 설정
- [ ] Toss Payments 개발자 계정 생성 완료
- [ ] 테스트 모드 클라이언트 키 발급 완료
- [ ] 결제 테스트 완료 (로컬 환경)
- [ ] 결제 성공/실패 플로우 확인

## 🌐 Vercel 배포 준비

### 프로젝트 설정
- [ ] Vercel 계정 생성 완료
- [ ] GitHub 저장소 연동 완료
- [ ] 프로젝트 생성 완료
- [ ] 빌드 설정 확인
  - [ ] Framework: Next.js
  - [ ] Build Command: `pnpm build`
  - [ ] Output Directory: `.next`
  - [ ] Install Command: `pnpm install`

### 환경 변수 설정
- [ ] Clerk 환경 변수 설정
  - [ ] `NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY`
  - [ ] `CLERK_SECRET_KEY`
  - [ ] `NEXT_PUBLIC_CLERK_SIGN_IN_URL` (선택사항)
  - [ ] `NEXT_PUBLIC_CLERK_SIGN_IN_FALLBACK_REDIRECT_URL` (선택사항)
  - [ ] `NEXT_PUBLIC_CLERK_SIGN_UP_FALLBACK_REDIRECT_URL` (선택사항)
- [ ] Supabase 환경 변수 설정
  - [ ] `NEXT_PUBLIC_SUPABASE_URL`
  - [ ] `NEXT_PUBLIC_SUPABASE_ANON_KEY`
  - [ ] `SUPABASE_SERVICE_ROLE_KEY`
  - [ ] `NEXT_PUBLIC_STORAGE_BUCKET` (선택사항)
- [ ] Toss Payments 환경 변수 설정
  - [ ] `NEXT_PUBLIC_TOSS_PAYMENTS_CLIENT_KEY`

## ✅ 배포 후 검증

### 기본 기능 테스트
- [ ] 홈페이지 접속 확인
- [ ] 회원가입 기능 테스트
- [ ] 로그인 기능 테스트
- [ ] 로그아웃 기능 테스트

### 상품 기능 테스트
- [ ] 상품 목록 페이지 접속 확인
- [ ] 상품 상세 페이지 접속 확인
- [ ] 카테고리 필터 작동 확인
- [ ] 정렬 기능 작동 확인
- [ ] 페이지네이션 작동 확인

### 장바구니 기능 테스트
- [ ] 장바구니 추가 기능 테스트
- [ ] 장바구니 사이드바 표시 확인
- [ ] 수량 변경 기능 테스트
- [ ] 상품 삭제 기능 테스트
- [ ] 장바구니 페이지 접속 확인

### 주문 기능 테스트
- [ ] 주문 생성 기능 테스트
- [ ] 배송 정보 입력 확인
- [ ] 주문 번호 생성 확인
- [ ] 장바구니 비우기 확인

### 결제 기능 테스트
- [ ] 결제 페이지 접속 확인
- [ ] Toss Payments 위젯 표시 확인
- [ ] 테스트 결제 진행 확인
- [ ] 결제 성공 플로우 확인
- [ ] 결제 실패 플로우 확인
- [ ] 주문 상태 업데이트 확인

### 마이페이지 기능 테스트
- [ ] 주문 내역 목록 조회 확인
- [ ] 주문 상세 페이지 접속 확인
- [ ] 주문 상품 정보 표시 확인

### 에러 처리 테스트
- [ ] 404 페이지 표시 확인
- [ ] 에러 페이지 표시 확인
- [ ] 네트워크 에러 처리 확인
- [ ] 입력 검증 에러 메시지 확인

### 성능 확인
- [ ] 페이지 로딩 속도 확인
- [ ] 이미지 로딩 최적화 확인
- [ ] 번들 크기 확인

## 🔍 최종 점검

### 보안 확인
- [ ] 환경 변수 노출 확인 (클라이언트 사이드)
- [ ] Secret Key 노출 확인 (없어야 함)
- [ ] API 엔드포인트 보안 확인

### 로그 확인
- [ ] Vercel 빌드 로그 확인 (에러 없음)
- [ ] Vercel 런타임 로그 확인 (에러 없음)
- [ ] Supabase 로그 확인 (에러 없음)
- [ ] Clerk 로그 확인 (에러 없음)

### 문서 확인
- [ ] 배포 가이드 문서 완성
- [ ] 환경 변수 문서 완성
- [ ] README.md 업데이트 완료

## 📝 배포 완료 후 작업

- [ ] 배포 URL 확인 및 저장
- [ ] 커스텀 도메인 설정 (선택사항)
- [ ] 모니터링 설정 (선택사항)
- [ ] 팀원에게 배포 완료 알림

## 🚨 문제 발생 시

배포 후 문제가 발생하면:

1. **즉시 확인**:
   - Vercel 로그 확인
   - 브라우저 콘솔 확인
   - 네트워크 탭 확인

2. **롤백 준비**:
   - 이전 배포 버전으로 롤백 가능한지 확인
   - 긴급 수정 사항 문서화

3. **문제 해결**:
   - 에러 로그 분석
   - 환경 변수 재확인
   - 데이터베이스 연결 확인

## ✅ 배포 완료 확인

모든 체크리스트를 완료했다면 배포가 완료된 것입니다!

- [ ] 모든 필수 항목 체크 완료
- [ ] 모든 테스트 통과
- [ ] 에러 없음 확인
- [ ] 문서화 완료

**배포 완료 날짜**: _______________
**배포 URL**: _______________
**배포 담당자**: _______________

