# E2E 테스트 체크리스트

이 문서는 의류 쇼핑몰 MVP의 전체 사용자 플로우를 수동으로 테스트하기 위한 체크리스트입니다.

## 테스트 환경 준비

- [ ] 개발 서버 실행 (`pnpm dev`)
- [ ] Supabase 프로젝트 연결 확인
- [ ] Clerk 인증 설정 확인
- [ ] 테스트용 상품 데이터 준비
- [ ] Toss Payments 테스트 키 설정 확인

## 1. 회원가입/로그인 플로우

### 1.1 회원가입
- [ ] 회원가입 페이지 접근
- [ ] 유효한 이메일과 비밀번호로 회원가입
- [ ] 이메일 인증 완료 (Clerk)
- [ ] 회원가입 후 홈페이지로 리다이렉트 확인
- [ ] Supabase `users` 테이블에 사용자 정보 동기화 확인

### 1.2 로그인
- [ ] 로그인 페이지 접근
- [ ] 유효한 자격증명으로 로그인
- [ ] 로그인 후 홈페이지로 리다이렉트 확인
- [ ] 네비게이션 바에 사용자 정보 표시 확인

### 1.3 로그아웃
- [ ] 로그아웃 버튼 클릭
- [ ] 로그아웃 후 홈페이지로 리다이렉트 확인
- [ ] 인증이 필요한 페이지 접근 시 로그인 페이지로 리다이렉트 확인

## 2. 상품 탐색 플로우

### 2.1 홈페이지
- [ ] 홈페이지 접근 (`/`)
- [ ] 인기 상품 섹션 표시 확인
- [ ] 카테고리별 상품 섹션 표시 확인
- [ ] 상품 카드 클릭 시 상품 상세 페이지로 이동 확인

### 2.2 상품 목록 페이지
- [ ] 상품 목록 페이지 접근 (`/products`)
- [ ] 모든 상품 목록 표시 확인
- [ ] 카테고리 필터 작동 확인
- [ ] 정렬 기능 작동 확인 (가격순, 최신순 등)
- [ ] 페이지네이션 작동 확인
- [ ] 상품 카드 클릭 시 상품 상세 페이지로 이동 확인

### 2.3 상품 상세 페이지
- [ ] 상품 상세 페이지 접근 (`/products/[id]`)
- [ ] 상품 이미지 표시 확인
- [ ] 상품명, 가격, 설명 표시 확인
- [ ] 재고 정보 표시 확인
- [ ] 장바구니 추가 버튼 표시 확인
- [ ] 품절 상품의 경우 장바구니 추가 버튼 비활성화 확인

### 2.4 카테고리 페이지
- [ ] 카테고리 목록 페이지 접근 (`/categories`)
- [ ] 모든 카테고리 표시 확인
- [ ] 카테고리 클릭 시 해당 카테고리 상품 목록으로 이동 확인

## 3. 장바구니 관리 플로우

### 3.1 장바구니 추가
- [ ] 상품 상세 페이지에서 장바구니 추가 버튼 클릭
- [ ] 로그인하지 않은 경우 로그인 페이지로 리다이렉트 확인
- [ ] 로그인한 경우 장바구니에 추가 확인
- [ ] 장바구니 사이드바 자동 표시 확인
- [ ] 장바구니 아이콘에 개수 배지 표시 확인
- [ ] 재고 부족 시 에러 메시지 표시 확인

### 3.2 장바구니 사이드바
- [ ] 장바구니 사이드바 열기/닫기 확인
- [ ] 장바구니 항목 목록 표시 확인
- [ ] 상품 이미지, 이름, 가격 표시 확인
- [ ] 수량 증가/감소 버튼 작동 확인
- [ ] 재고 초과 시 수량 증가 버튼 비활성화 확인
- [ ] 상품 삭제 버튼 작동 확인
- [ ] 총 결제금액 계산 확인
- [ ] 결제하기 버튼 클릭 시 결제 페이지로 이동 확인
- [ ] 장바구니 전체보기 버튼 클릭 시 장바구니 페이지로 이동 확인

### 3.3 장바구니 페이지
- [ ] 장바구니 페이지 접근 (`/cart`)
- [ ] 장바구니 항목 목록 표시 확인
- [ ] 수량 변경 기능 작동 확인
- [ ] 상품 삭제 기능 작동 확인
- [ ] 총 결제금액 계산 확인
- [ ] 주문하기 버튼 클릭 시 결제 페이지로 이동 확인
- [ ] 빈 장바구니 상태 UI 표시 확인

## 4. 주문 생성 플로우

### 4.1 결제 페이지
- [ ] 결제 페이지 접근 (`/checkout`)
- [ ] 장바구니가 비어있을 경우 장바구니 페이지로 리다이렉트 확인
- [ ] 주문 상품 목록 표시 확인
- [ ] 총 결제금액 표시 확인
- [ ] 배송 정보 입력 폼 표시 확인

### 4.2 배송 정보 입력
- [ ] 수령인 이름 입력
- [ ] 전화번호 입력
- [ ] 배송 주소 입력
- [ ] 필수 필드 검증 확인
- [ ] 유효하지 않은 입력 시 에러 메시지 표시 확인

### 4.3 주문 생성
- [ ] 주문하기 버튼 클릭
- [ ] 주문 생성 성공 확인
- [ ] 주문 번호 생성 확인
- [ ] 결제 페이지로 리다이렉트 확인 (`/payment/[orderId]`)
- [ ] 장바구니 비우기 확인

## 5. 결제 플로우

### 5.1 결제 페이지
- [ ] 결제 페이지 접근 (`/payment/[orderId]`)
- [ ] 주문 정보 표시 확인
- [ ] Toss Payments 위젯 표시 확인
- [ ] 이미 결제된 주문의 경우 주문 상세 페이지로 리다이렉트 확인

### 5.2 결제 진행
- [ ] Toss Payments 테스트 카드 정보 입력
  - 카드 번호: 1234-5678-9012-3456
  - 유효기간: 12/34
  - CVC: 123
  - 비밀번호: 생년월일 6자리
- [ ] 결제 승인 확인
- [ ] 결제 성공 페이지로 리다이렉트 확인 (`/payment/[orderId]/success`)
- [ ] 주문 상태 업데이트 확인 (`pending` → `paid`)

### 5.3 결제 실패
- [ ] 결제 취소 시 결제 실패 페이지로 리다이렉트 확인 (`/payment/[orderId]/fail`)
- [ ] 에러 메시지 표시 확인
- [ ] 다시 시도 버튼 작동 확인

## 6. 주문 내역 조회 플로우

### 6.1 주문 내역 목록
- [ ] 주문 내역 페이지 접근 (`/my/orders`)
- [ ] 로그인하지 않은 경우 로그인 페이지로 리다이렉트 확인
- [ ] 사용자의 모든 주문 목록 표시 확인
- [ ] 주문 번호, 날짜, 상태, 총액 표시 확인
- [ ] 상품 개수 표시 확인
- [ ] 주문 상태별 배지 색상 확인
- [ ] 주문 카드 클릭 시 주문 상세 페이지로 이동 확인
- [ ] 빈 주문 내역 상태 UI 표시 확인

### 6.2 주문 상세
- [ ] 주문 상세 페이지 접근 (`/my/orders/[id]`)
- [ ] 주문 정보 표시 확인 (주문 번호, 일시, 상태, 결제 수단)
- [ ] 배송 정보 표시 확인 (수령인, 전화번호, 주소)
- [ ] 주문 상품 목록 표시 확인
- [ ] 상품 이미지, 이름, 가격, 수량, 소계 표시 확인
- [ ] 상품 클릭 시 상품 상세 페이지로 이동 확인
- [ ] 결제 요약 표시 확인
- [ ] 주문 내역으로 돌아가기 버튼 작동 확인
- [ ] 다른 사용자의 주문 접근 시 에러 처리 확인

## 7. 에러 시나리오

### 7.1 재고 부족
- [ ] 재고가 없는 상품을 장바구니에 추가 시도
- [ ] 에러 메시지 표시 확인
- [ ] 장바구니에서 수량을 재고 초과로 변경 시도
- [ ] 수량 증가 버튼 비활성화 확인

### 7.2 네트워크 에러
- [ ] 네트워크 연결 끊기
- [ ] 데이터 로딩 실패 시 에러 메시지 표시 확인
- [ ] 다시 시도 버튼 작동 확인

### 7.3 인증 에러
- [ ] 로그인하지 않은 상태에서 인증이 필요한 페이지 접근
- [ ] 로그인 페이지로 리다이렉트 확인
- [ ] 만료된 세션으로 접근 시 재로그인 요청 확인

### 7.4 404 에러
- [ ] 존재하지 않는 페이지 접근 (`/invalid-page`)
- [ ] 404 페이지 표시 확인
- [ ] 홈으로 돌아가기 버튼 작동 확인

### 7.5 서버 에러
- [ ] 서버 에러 발생 시 에러 페이지 표시 확인
- [ ] 에러 메시지 표시 확인
- [ ] 홈으로 돌아가기 버튼 작동 확인

## 8. 반응형 디자인

### 8.1 모바일 (375px)
- [ ] 모든 페이지 모바일 레이아웃 확인
- [ ] 네비게이션 바 모바일 버전 확인
- [ ] 장바구니 사이드바 모바일 버전 확인
- [ ] 상품 카드 그리드 모바일 버전 확인
- [ ] 폼 입력 모바일 버전 확인

### 8.2 태블릿 (768px)
- [ ] 모든 페이지 태블릿 레이아웃 확인
- [ ] 그리드 레이아웃 태블릿 버전 확인

### 8.3 데스크톱 (1024px+)
- [ ] 모든 페이지 데스크톱 레이아웃 확인
- [ ] 최대 너비 제한 확인
- [ ] 레이아웃 정렬 확인

## 9. 성능 테스트

### 9.1 로딩 속도
- [ ] 초기 페이지 로딩 시간 확인
- [ ] 이미지 로딩 최적화 확인
- [ ] 번들 크기 확인

### 9.2 사용자 경험
- [ ] 로딩 스켈레톤 UI 표시 확인
- [ ] 스켈레톤에서 실제 콘텐츠로 전환 확인
- [ ] 버튼 클릭 반응 속도 확인

## 10. 접근성 테스트

### 10.1 키보드 네비게이션
- [ ] Tab 키로 모든 인터랙티브 요소 접근 가능 확인
- [ ] Enter/Space 키로 버튼 클릭 가능 확인
- [ ] 포커스 표시 확인

### 10.2 스크린 리더
- [ ] 주요 요소에 적절한 aria-label 확인
- [ ] 헤딩 구조 확인
- [ ] 폼 라벨 연결 확인

## 테스트 완료 체크리스트

- [ ] 모든 플로우 테스트 완료
- [ ] 발견된 버그 기록 (`docs/BUG_REPORT.md`)
- [ ] 개선사항 기록
- [ ] 테스트 결과 요약 작성

## 버그 우선순위 기준

- **Critical**: 애플리케이션이 완전히 작동하지 않음 (결제 실패, 데이터 손실 등)
- **High**: 주요 기능이 작동하지 않음 (주문 생성 실패, 장바구니 추가 실패 등)
- **Medium**: 기능이 작동하지만 사용자 경험이 크게 저하됨 (UI 깨짐, 느린 로딩 등)
- **Low**: 사소한 문제 (오타, 스타일 미세 조정 등)

